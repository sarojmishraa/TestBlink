<script>
  document.addEventListener("RESOURCES_LOADED", function (e) {
    initContactUs();
  });
  if (window.themeResourceLoaded) {
    initContactUs();
  }

  function validateForm($form) {
    let isValid = true;
    $form.find(".error-message").remove();
    const nameField = $form.find("input[name='name']");
    const designationField = $form.find("input[name='Designation']");
    const companyField = $form.find("input[name='Company']");
    const cityField = $form.find("input[name='City']");
    const phoneField = $form.find("input[name='Phone']");
    const emailField = $form.find("input[name='Email']");
    const introductionFeild = $form.find("textarea[name='Introduction']");
    const budgetField = $form.find("input[name='Budget']"); 
    const requiredFields = $form.find("input[required], textarea[required], input[type='checkbox'][required]");
    requiredFields.each(function () {
      if (!$(this).val() && !$(this).prop('checked')) {
        $(this).after('<div class="error-message" style="color: red; font-size: 0.875em;">This field is required.</div>');
        isValid = false;
      }
    });
    if (!nameField.val()) {
      nameField.after('<div class="error-message" style="color: red; font-size: 0.875em;">Name is required.</div>');
      isValid = false;
    }
    if (!designationField.val()) {
      designationField.after('<div class="error-message" style="color: red; font-size: 0.875em;">Name is required.</div>');
      isValid = false;
    }
    if (!companyField.val()) {
      companyField.after('<div class="error-message" style="color: red; font-size: 0.875em;">Name is required.</div>');
      isValid = false;
    }
    if (!cityField.val()) {
      cityField.after('<div class="error-message" style="color: red; font-size: 0.875em;">Name is required.</div>');
      isValid = false;
    }
    if (!budgetField.val()) {
      budgetField.after('<div class="error-message" style="color: red; font-size: 0.875em;">Name is required.</div>');
      isValid = false;
    }
    if (!introductionFeild.val()) {
      introductionFeild.after('<div class="error-message" style="color: red; font-size: 0.875em;">Comment is required.</div>');
      isValid = false;
    }
    const emailValue = emailField.val();
    const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailValue) {
      emailField.after('<div class="error-message" style="color: red; font-size: 0.875em;">Email is required.</div>');
      isValid = false;
    } else if (!emailPattern.test(emailValue)) {
      emailField.after('<div class="error-message" style="color: red; font-size: 0.875em;">Please enter a valid email address.</div>');
      isValid = false;
    }
    const phoneValue = phoneField.val();
    const phonePattern = /^[0-9]{1,10}$/;
    if (!phoneValue) {
      phoneField.after('<div class="error-message" style="color: red; font-size: 0.875em;">Phone number is required.</div>');
      isValid = false;
    } else if (!phonePattern.test(phoneValue)) {
      phoneField.after('<div class="error-message" style="color: red; font-size: 0.875em;">Phone number must be numeric and less than 10 digits.</div>');
      isValid = false;
    }
    return isValid;
  }

  function initContactUs() {
    $(".js-btn-submit-contact").on("click", function () {
      const $form = $('#getInTouchForm');
      if (validateForm($form)) {
        $.ajax({
          url: "/ContentCreator",
          type: 'post',
          dataType: 'application/json',
          headers: {
            's-id': "phookBpD1HBcPZtWSWfVUTo7UWegZ5fBWcDPsTZMVukfpgCvZTNm81EZAY8shdN1"
          },
          data: $form.serialize(),
          success: function (data) {
            $form.html('<div class="thankyou">Thank you for your message.</div>');
          },
          error: function (data) {
            $form.html('<div class="thankyou">There was an error. Please try again later.</div>');
          },
          complete: function (data) {
            $form.html('<div class="thankyou">Thank you for your message.</div>');
          }
        });
      }
    });
  }

</script>
<style>
  .thankyou {
    color: tomato;
      font-size: 24px;
      text-align: center;
    }
    @media (min-width: 320px) and (max-width: 767px) {
      .form-top-container {
        padding-left: 10px !important;
        padding-right: 10px !important;
      }
    }
    .primary-btn-submit {
      max-width: 200px !important;
    }
  
    .row-duplicate {
      margin-left: 10px;
      margin-right: 10px;
    }
    .form-top-container {
      max-width: 1090px;
      margin: 0 auto;
      padding: 20px;
      background-color: black;
      color: white;
    }
    .pst-5 {
      padding-top: 3rem;
      padding-bottom: 3rem;
    }
    .form-control {
      background-color: #333;
      border: 1px solid #555;
      color: white;
      width: 100%;
      border-radius: 0.25rem;
      margin-bottom: 1rem;
    }
    .form-control:focus {
      background-color: #444;
      color: white;
      outline: none;
    }
    .primary-btn-submit {
      font-weight: 600;
      font-size: 20px;
      text-align: center;
      width: 201px;
      height: 55px;
      background-color: #9cf;
      color: black;
      font-weight: bold;
      border-radius: 20px;
      margin-top: 1.5rem;
    }
    .primary-btn-submit:hover {
      background-color: rgb(24, 24, 24);
      color: rgb(238, 235, 235);
      border: 2px solid #9cf;
    }
    .fw-semibold {
      font-size: 20px;
      padding-bottom: 3px;
      margin-left: 2px;
      letter-spacing: 1px;
      font-weight: 400;
    }
    sup {
      color: red;
    }
    .column-mst-6 {
      margin-top: 1.5rem;
      width: 100%;
      padding: 0 15px;
      box-sizing: border-box;
    }
    .top-img {
      margin-bottom: 2.5rem;
      text-align: center;
    }
    .row {
      display: flex;
      flex-wrap: wrap;
      margin: -15px;
    }
    .text-center {
      text-align: center;
    }
    .mst-4 {
      margin-bottom: 1.5rem;
    }
    .mt-4 {
      margin-top: 1.5rem;
    }
    .rounded-input {
      border-radius: 0.3rem;
    }
    .pyi-2 {
      line-height: 2;
      padding-top: 0.5rem;
      padding-bottom: 0.5rem;
    }
    .pxl-4 {
      padding-left: 1rem;
      padding-right: 1rem;
    }
    .border-submit {
      border: none;
    }
    .img-fluid {
      max-width: 100%;
      height: auto;
    }
  
    @media (min-width: 576px) {
      .column-mst-6 {
        width: 50%;
      }
    }
  
    @media (max-width: 575.98px) {
      .primary-btn-submit {
        width: 100%;
      }
      .fw-semibold {
        font-size: 18px;
      }
      h1 {
        font-size: 24px;
      }
    }
  
    @media (max-width: 767.98px) {
      .form-top-container {
        padding: 10px;
      }
      .pst-5 {
        padding-top: 2rem;
        padding-bottom: 2rem;
      }
    }
    @media (min-width: 1200px) {
      .form-top-container {
        max-width: 1090px;
      }
    }
    .level-input {
      color: white !important;
    }
    .input-color {
      background: #333333 !important;
    }
</style>
<div class="container form-top-container pst-5">
  <div class="top-img">
      <img src="https://thecrazytales.com/h-upload/2025/02/19/1404870-img.webp" alt="logo" class="img-fluid" />
  </div>
  <h1 class="text-center mst-4">
  REGISTER <span style="color: #9cf">NOW</span>
</h1>
  <form name="getInTouchForm" id="getInTouchForm">
      <input type="hidden" name="form_name" id="form_name" value="registration-form" />
      <div class="row .row-duplicate mb-2">
          <div class="column-mst-6">
              <label for="Name" class="fw-semibold level-input">Name<sup>*</sup></label>
              <input type="text" name="name" id="Name" class="form-control pyi-2 rounded-input input-color" required="" autocomplete="off"/>
          </div>
          <div class="column-mst-6">
              <label for="Designation" class="fw-semibold level-input">Designation<sup>*</sup></label>
              <input type="text" name="designation" id="Designation" class="form-control pyi-2 rounded-input input-color" required="" autocomplete="off"/>
          </div>
      </div>
      <div class="row .row-duplicate mb-2">
          <div class="column-mst-6">
              <label for="Company" class="fw-semibold level-input">Company<sup>*</sup></label>
              <input type="text" name="company" id="Company" class="form-control pyi-2 rounded-input input-color" required="" autocomplete="off"/>
          </div>
          <div class="column-mst-6">
              <label for="City" class="fw-semibold level-input">City<sup>*</sup></label>
              <input type="text" name="city" id="City" class="form-control pyi-2 rounded-input input-color" required="" autocomplete="off"/>
          </div>
      </div>
      <div class="row .row-duplicate mb-2">
          <div class="column-mst-6">
              <label for="Phone" class="fw-semibold level-input">Mobile No<sup>*</sup></label>
              <input type="tel" name="phone" id="Phone" class="form-control pyi-2 rounded-input input-color" required="" autocomplete="off"/>
          </div>
          <div class="column-mst-6">
              <label for="Email" class="fw-semibold level-input">Email ID <sup>*</sup></label>
              <input type="email" name="mail" id="Email" class="form-control pyi-2 rounded-input input-color" required="" autocomplete="off"/>
          </div>
      </div>
      <div class="text-center mt-4">
          <input type="submit" value="Register Now" class="primary-btn-submit pxl-4 pyi-2 border-submit js-btn-submit-contact" />
      </div>
  </form>
</div>

